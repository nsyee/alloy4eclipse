<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Quantifiers</title>
    <link   rel=stylesheet   href="style-sidenote.css"   type="text/css">
  </head>

  <body>
    <h2>Quantifiers</h2>

<p> The Alloy quantifiers are </p>
<ul>
<li> <tt><b> all x:X | formula </b></tt> - every <b><tt>x</b></tt> of type
     <b><tt>X</b></tt> satisfies <b><tt>formula</b></tt>.  If there are
     no <b><tt>X</b></tt>'s, then this statement is trivially true.</li>
<li> <tt><b> some x:X | formula </b></tt> - one or more
     <b><tt>x</b></tt>'s of type <b><tt>X</b></tt> satisfy
     <b><tt>formula</b></tt></li>
<li> <tt><b> no x:X | formula </b></tt> - exactly zero
     <b><tt>x</b></tt>'s of type <b><tt>X</b></tt> satisfy
     <b><tt>formula</b></tt></li>
<li> <tt><b> one x:X | formula </b></tt> - exactly one <b><tt>x</b></tt>
     of type <b><tt>X</b></tt> satisfies <b><tt>formula</b></tt></li>
<li> <tt><b> lone x:X | formula </b></tt> - either zero or one
     <b><tt>x</b></tt> of type <b><tt>X</b></tt> satisfies
     <b><tt>formula</b></tt></li>
</ul>

<p> Note that a 'formula' is something that evaluates to a boolean
    value, as opposed to an 'expression' which evaluates to a
    (relational) value. One can leave out the variable and the
    formula.  Alloy will then act as though you had entered a
    trivially true formula. </p>

<ul>
<li> <tt><b> all X </b></tt> - trivially true</li>
<li> <tt><b> some X </b></tt> - there is at least one
     <b><tt>X</b></tt></li>
<li> <tt><b> no X </b></tt> - there are no <b><tt>X</b></tt>'s</li>
<li> <tt><b> one X </b></tt> - there is exactly one <b><tt>X</b></tt></li>
<li> <tt><b> lone X </b></tt> - there are either zero or one
     <b><tt>X</b></tt>'s</li>
</ul>

<hr WIDTH="100%">

<p> The basic format for a quantifier is</p>

<b><pre>
  quantifier variable:type | formula
</b></pre>

<p> where the formula may includes references to the quantifier
    variable.  An alternative notation is:</p>

<b><pre>
  quantifier variable:type { formula }
</b></pre>

<p> Examples:</p>

<b><pre>
  </b><i>//Does any directory contain itself?</i><b>
  some d: Dir | d.parent = d
</b></pre>


<hr WIDTH="50%">
<p> You can also opt to leave out the formula and variable.</p>

<p> Examples:

<b><pre>
  </b><i>//the root has not parent</i><b>
  no Root.parent

  </b><i>//there is only one root</i><b>
  one r:Root
</b></pre>

<hr WIDTH="50%">
<p> Multiple variables can be used in the same quantifier, like so:</p>

<b><pre>
  quantifier variable:type, variable':type' | formula
</b></pre>

<p> which desugars to</p>

<b><pre>
  quantifier variable:type | quantifier variable':type' | formula
</b></pre>

<p> Examples:</p>

<b><pre>
  </b><i>//every file is is some directory</i><b>
  all f:File | some d:Dir | f.parent = d
</b></pre>

<hr WIDTH="50%">
<p> Multiple variables of the same type can be abbreviated as a
    comma-delimited list, like so:</p>

<b><pre>
  quantifier variable,variable':type | formula
</b></pre>

<p> Examples:</p>

<b><pre>
  </b><i>//no two directories have exactly the same contents</i><b>
  no d,s:Dir | d.contents = s.contents
</b></pre>

<hr WIDTH="50%">
<p> The above features can, of course, be combined to produce
    arbitrarily complex formulas.</p>

<p> However, be warned that nested quantifiers may cause your model to
    become intractable.  In generaly, try not to stack more than two
    or three of them together.</p>

<hr WIDTH="50%">

<p> related sidenotes:
<ul>
<li> <a href="sidenote-multiplicity.html"
     target="sidenote">multiplicity markings</a>
</ul>

<hr WIDTH="100%">
<p> <a href="sidenote-all.html" target="sidenote"> list all sidenotes</a></p>
<p> <a href="sidenote-default.html">clear this sidenote</a></p>

  </body>
</html>
